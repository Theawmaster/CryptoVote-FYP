/* THEME (same tokens you already use) */
.voter-landing{
  --vl-bg:#f7f9fb;
  --vl-fg:#111827;
  --vl-card:#ffffff;
  --vl-border:#e5e7eb;
  --vl-subtle:#6b7280;
  --vl-shadow:0 1px 8px rgba(0,0,0,.06);
  --vl-accent:#04aa96;
  --vl-accent-hover:#04a290;
  --vl-accent-dark-hover:#069a7c;
}
.dark .voter-landing{
  --vl-bg:#111827;
  --vl-fg:#e5e7eb;
  --vl-card:#0f172a;
  --vl-border:#334155;
  --vl-subtle:#94a3b8;
  --vl-shadow:none;
}

/* Shell: two columns (content | right rail) */
.voter-landing{ min-height:100vh; background:var(--vl-bg); color:var(--vl-fg); display:flex; }
.vl-main{
  display:grid;
  grid-template-columns: 1fr 360px;
  gap:20px;
  width:min(1200px,96vw);
  margin:24px auto;
  align-content:start;
}

/* Header */
.vl-header-row{ grid-column:1 / -1; display:flex; align-items:center; justify-content:space-between; margin-bottom:6px; }
.vl-header-row h2{ margin:0; font-size:clamp(1.25rem, .8rem + 1vw, 1.75rem); font-weight:700; }
.vl-header-actions{ display:flex; align-items:center; gap:12px; }

/* Left cards (match admin spacing) */
.vl-left{ min-width:0; }
.vl-grid{ display:grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap:20px; }
.vl-card{
  background:var(--vl-card);
  border:1px solid var(--vl-border);
  border-radius:14px;
  padding:16px;
  min-height:200px;
  box-shadow:var(--vl-shadow);
  display:flex; flex-direction:column; gap:12px; justify-content:space-between;
}
.vl-card-title{ font-weight:600; font-size:clamp(1rem, .9rem + .3vw, 1.1rem); }
.vl-card-meta{ font-size:.9rem; color:var(--vl-subtle); display:grid; gap:4px; }
.vl-start{
  align-self:flex-start;
  height:36px; padding:0 14px; border:none; border-radius:12px;
  background:#08ad91; color:#fff; font-weight:600; cursor:pointer;
  transition:transform .08s ease, background .12s ease;
}
.vl-start:hover{ background:var(--vl-accent-hover); }
.dark .vl-start:hover{ background:var(--vl-accent-dark-hover); }
.vl-start:active{ transform:translateY(1px); }

/* Right rail (compact card, sticky, with dashed divider) */
.vl-right-rail{ min-width:0; padding-left:24px; border-left:1px dashed var(--vl-border); }
.vl-rail-card{
  position:sticky; top:12px;
  background:var(--vl-card);      /* use card var so light/dark both work */
  border:1px solid var(--vl-border);
  border-radius:16px;
  padding:16px;
  box-shadow:var(--vl-shadow);
}
.vl-rail-head{ font-weight:700; margin-top:4px; margin-bottom:6px; }
.vl-rail-body{ font-size:14px; color:var(--vl-fg); opacity:.95; }
.vl-rail-card .vl-logout{ margin-top:8px; }

/* Empty / error */
.vl-error{ color:#ff6b6b; background:rgba(255,107,107,.12); border:1px solid rgba(255,107,107,.3); padding:12px; border-radius:12px; margin-top:8px; }
.vl-empty{ background:var(--vl-card); border:1px dashed var(--vl-border); border-radius:16px; padding:20px; text-align:center; margin-top:8px; }
.vl-subtle{ opacity:.7; font-size:.9rem; }

/* Inline field row: input (fills) + button (auto) */
.inline-field{
  display: grid;
  grid-template-columns: 1fr auto;
  gap: 12px;
  align-items: center;
  margin-top: 6px;
}

/* Normalized input to match button height */
.vl-input{
  height: 40px;
  padding: 0 12px;
  border: 1px solid var(--vl-border);
  background: var(--vl-card);
  color: var(--vl-fg);
  border-radius: 10px;
  font: inherit;
}
.vl-input::placeholder{ color: var(--vl-subtle); }
.vl-input:focus{
  outline: 2px solid var(--vl-accent);
  outline-offset: 0;
  border-color: transparent;
}

/* Make the primary button the same height */
.vl-start{ height: 40px; padding: 0 16px; }

/* Mobile: stack the button below, full width, still evenly spaced */
@media (max-width: 520px){
  .inline-field{
    grid-template-columns: 1fr;
  }
  .inline-field .vl-start{
    width: 100%;
  }
}


/* Toasts */
.toast{
  position: fixed;

  /* center horizontally */
  left: 50%;
  transform: translateX(-50%);

  bottom: calc(18px + env(safe-area-inset-bottom));
  z-index: 60;

  max-width: min(560px, 92vw);
  padding: 12px 16px;
  border-radius: 12px;
  border: 1px solid transparent;
  color: #fff;

  text-align: center;           /* nicer for multi-line toasts */
  box-shadow: 0 10px 30px rgba(0,0,0,.25);
  animation: toast-in .18s ease-out;
}


/* solid variants */
.toast.success{ background:#10b981; border-color:#10b981; } /* emerald-500 */
.toast.error  { background:#ef4444; border-color:#ef4444; } /* red-500     */
.toast.info   { background:#2563eb; border-color:#2563eb; } /* blue-600    */
.toast.warn   { background:#f59e0b; border-color:#f59e0b; color:#111827; } /* amber-500 with dark text */

/* global dark mode needs no special case — solids stay solid */

/* subtle slide-up */
@keyframes toast-in {
  from { opacity: 0; transform: translateY(8px); }
  to   { opacity: 1; transform: translateY(0); }
}


/* Skeleton */
.skeleton{ position:relative; overflow:hidden; }
.skeleton::after{
  content:""; position:absolute; inset:0;
  background:linear-gradient(90deg, #e5e7eb 25%, #f3f4f6 37%, #e5e7eb 63%);
  background-size:400% 100%; animation:shimmer 1.1s infinite;
}
.dark .skeleton::after{
  background:linear-gradient(90deg, #1f2937 25%, #111827 37%, #1f2937 63%);
}
@keyframes shimmer{ 0%{ background-position:100% 0; } 100%{ background-position:0 0; } }

/* Responsive */
@media (max-width: 900px){
  .vl-main{ grid-template-columns:1fr; }
  .vl-right-rail{ border-left:none; padding-left:0; }
  .vl-rail-card{ position:static; }
}

/* ---- grid: make right column a real panel like admin (teal) ---- */
.vl-main{
  display:grid;
  grid-template-columns: 1fr clamp(260px, 22vw, 360px); /* content | teal right panel */
  gap:20px;
  width:min(1200px,96vw);
  margin:24px auto;
  align-content:start;
}

/* header row */
.vl-header-row{ grid-column:1 / -1; display:flex; align-items:center; justify-content:space-between; margin-bottom:6px; }
.vl-header-row h2{ margin:0; font-size:clamp(1.25rem, .8rem + 1vw, 1.75rem); font-weight:700; }

/* last-login chip on the left column */
.vl-badge-inline{ margin: 4px 0 12px; }

/* ---- RIGHT TEAL SIDEBAR (mirrors .left-panel from admin) ---- */
.right-panel-voter{
  position: sticky;
  top: 0;
  align-self: start;
  display: flex;
  flex-direction: column;
  height: 100dvh;
  padding: 24px;
  gap: 32px;
  background: rgba(6, 198, 176, 0.45);    /* TEAL */
  border-left: 1px solid #e5e7eb;
}
.dark .right-panel-voter{
  background: rgba(3, 133, 150, 0.35);    /* dark teal */
  border-left-color: #374151;
}

/* center brand + actions inside the teal bar */
.right-panel-voter .sidebar-center{
  height: 100%;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  gap: 28px;
}
.right-panel-voter .sidebar-actions{
  width: 100%;
  display: grid;
  place-items: center;
  gap: 12px;
}

/* logo block */
.brand-wrap--center{ text-align: center; }
.brand-wrap--center img{ max-width: min(180px, 80%); height: auto; }

/* stack layout on mobile */
@media (max-width: 820px){
  .vl-main{ grid-template-columns: 1fr; }
  .right-panel-voter{
    position: relative;
    height: auto;
    border-left: none;
    border-top: 1px solid #e5e7eb;
  }
  .dark .right-panel-voter{ border-top-color: #374151; }
}

/* ---- (keep your existing left-column card/grid styles as you have) ---- */

/* White card inside the teal rail */
.voter-rail-card{
  width: 100%;
  border-radius: 16px;
  background: #fff;
  border: 1px solid #e5e7eb;
  box-shadow: 0 6px 16px rgba(0,0,0,.06);
  padding: 16px;
}

.dark .voter-rail-card{
  background: #0f172a;
  border-color: #334155;
  box-shadow: none;
}

/* --- add a shared width token for the rail --- */
:root { --vl-rail-w: clamp(260px, 22vw, 360px); }

/* keep your existing .vl-main styles, but replace width/margin and add padding-right */
.vl-main{
  display:grid;
  grid-template-columns: 1fr;           /* content only; rail is fixed */
  gap:20px;
  width:min(1200px, 96vw);              /* keep content nicely centered */
  margin:24px auto;                     /* keep top gap for content only */
  align-content:start;
  padding-right: var(--vl-rail-w);      /* ← make room for the fixed rail */
}

/* make the teal rail fixed & full-bleed */
.right-panel-voter{
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;                            /* ← touches bottom */
  width: var(--vl-rail-w);              /* ← same width token */
  padding: 24px;
  gap: 32px;
  display: flex;
  flex-direction: column;
  justify-content: center;
  background: rgba(6, 198, 176, 0.45);  /* TEAL */
  border-left: 1px dashed #d1d5db;      /* dashed divider like admin */
  z-index: 2;                           /* above page background */
}

/* the white card inside the rail (unchanged) */
.voter-rail-card{
  width: 100%;
  border-radius: 16px;
  background: #fff;
  border: 1px solid #e5e7eb;
  box-shadow: var(--vl-shadow);
  padding: 16px;
}
.dark .right-panel-voter{
  background: rgba(3, 133, 150, 0.35);
  border-left-color: #374151;
}
.dark .voter-rail-card{
  background: #0f172a;
  border-color: #334155;
  box-shadow: none;
}

/* mobile: rail becomes normal block; remove the reserved padding */
@media (max-width: 820px){
  .vl-main{ padding-right: 0; }
  .right-panel-voter{
    position: static;
    width: auto;
    height: auto;
    border-left: none;
    border-top: 1px solid #e5e7eb;
  }
  .dark .right-panel-voter{ border-top-color: #374151; }
}

/* in voter-landing.css */
.vl-card.selected { outline: 2px solid var(--teal, #0ea5a5); }

/* ballot layout */
.ballot-card {
  background: var(--card, #fff);
  border-radius: 12px;
  padding: 16px;
  box-shadow: 0 1px 3px rgba(0,0,0,.06);
  border: 1px solid rgba(0,0,0,.06);
  max-width: 720px;
}
.dark .ballot-card {
  background: #0f172a;
  border-color: #334155;
  box-shadow: none;
} 
.ballot-header {
  border-bottom: 1px solid rgba(0,0,0,.08);
  padding-bottom: 8px;
  margin-bottom: 12px;
}
.ballot-title { font-weight: 600; }

.ballot-list { display: grid; gap: 10px; }
.ballot-row {
  display: grid;
  grid-template-columns: 1fr auto;
  align-items: center;
  padding: 10px 12px;
  border: 1px solid rgba(0,0,0,.08);
  border-radius: 10px;
  background: #fafafa;
}
.dark .ballot-row {
  background: #1f2937;
  border-color: #374151;
}
.ballot-row.is-selected { outline: 2px solid #14b8a6; background: #f0fffd; }
.ballot-row:hover { background: #7ee1cc; }
.dark .ballot-row:hover { background: #3ab294; }
.dark .ballot-row.is-selected { outline-color: #0ea5a5; background: #ccfbf1; color: black; }
.ballot-name { font-weight: 500; }
.ballot-actions { display: flex; gap: 8px; }

/* success circle */
.complete-icon {
  width: 88px; height: 88px; border-radius: 50%;
  border: 3px solid #14b8a6; margin: 12px 0;
  background: radial-gradient(circle at 55% 45%, rgba(20,184,166,.15) 0 55%, transparent 56%);
}

/* buttons */
.btn {
  border-radius: 8px; padding: 8px 14px; font-weight: 600;
  border: 1px solid transparent; cursor: pointer;
}
.btn:disabled { opacity: .65; cursor: not-allowed; }
.btn-primary { background: #0aaf9b; color: #fff; }
.btn-primary:hover { filter: brightness(.95); background: #14c5b1;}
.btn-outline { background: #fff; border-color: rgba(0,0,0,.15); }
.dark .btn-outline { background: #374151; border-color: #4b5563; }
.btn-outline:hover { background: #1bd2bd; color: #fff;}
.btn.wide { width: 100%; }

/* right sidebar visuals to match the sketch */
.ballot-sidebar { background: #d0f0ed; display: flex; align-items: center; }
.sidebar-inner { width: 100%; display: grid; place-items: center; gap: 16px; padding: 24px 16px; }
.sb-logo { max-width: 180px; height: auto; }
.sb-logo.small { max-width: 140px; opacity: .9; }
.shield {
  width: 64px; height: 72px; border-radius: 12px;
  background: linear-gradient(180deg, #e7fffb, #b7efe8);
  border: 2px solid #9fe4dc;
}
.sb-title { font-size: 20px; font-weight: 700; }

/* --- Ballot header layout --- */
.ballot-header-bar {
  display: grid;
  grid-template-columns: 120px 1fr 120px; /* left back btn / centered title / right spacer */
  align-items: center;
  gap: 12px;
  margin: 4px 0 18px;
}

.ballot-title-center {
  margin: 0;
  text-align: center;
  line-height: 1.2;
  font-size: clamp(1.25rem, .8rem + 1vw, 1.75rem);
}


